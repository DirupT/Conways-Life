(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(24)},15:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(7),r=a.n(s),l=(a(15),a(1)),c=a(2),o=a(4),h=a(3),u=a(5),f=(a(17),function(){function e(t,a){Object(l.a)(this,e),this.width=t,this.height=a,this.cellSize=10,this.cells=[[],[]],this.cellWidth=this.width/this.cellSize,this.cellHeight=this.height/this.cellSize;for(var n=0;n<this.cellWidth;n++)for(var i=0;i<this.cellHeight;i++)this.cells[0].push({coords:[n,i],alive:!1}),this.cells[1].push({coords:[n,i],alive:!1});this.buffer=0}return Object(c.a)(e,[{key:"getCells",value:function(){return this.cells[this.buffer]}},{key:"getCellSize",value:function(){return this.cellSize}},{key:"pasteCells",value:function(e,t,a){for(var n={glider:[[e,t-1],[e,t+1],[e+1,t],[e+1,t+1],[e-1,t+1]],spaceship:[[e-2,t+1],[e-2,t-1],[e+1,t+1],[e+2,t],[e+2,t-1],[e+2,t-2],[e+1,t-2],[e,t-2],[e-1,t-2]],tumbler:[[e+1,t],[e+1,t-1],[e+1,t-2],[e+1,t-3],[e+1,t-4],[e+2,t-3],[e+2,t-4],[e+2,t+1],[e+3,t],[e+3,t+1],[e+3,t-1],[e-1,t],[e-1,t-1],[e-1,t-2],[e-1,t-3],[e-1,t-4],[e-2,t-3],[e-2,t-4],[e-2,t+1],[e-3,t],[e-3,t+1],[e-3,t-1]]},i=0;i<n[a].length;i++){var s=Math.ceil(this.cellHeight)*n[a][i][0]+n[a][i][1],r=this.cells[this.buffer][s];r&&(r.alive=!0)}}},{key:"toggleCell",value:function(e,t){var a=Math.ceil(this.cellHeight)*e+t,n=this.cells[this.buffer][a];n&&(n.alive=!n.alive)}},{key:"clearCells",value:function(){this.cells[this.buffer].forEach(function(e){e.alive&&(e.alive=!e.alive)})}},{key:"randomize",value:function(){this.cells[this.buffer].forEach(function(e){Math.random()>=.5&&(e.alive=!e.alive)})}},{key:"calculateGeneration",value:function(e){for(var t=0;t<e;t++)this.step()}},{key:"findNeighbors",value:function(e,t){var a=Math.ceil(this.cellHeight)*e+t,n=this.cells[this.buffer][a];return n&&n.alive?1:0}},{key:"step",value:function(){for(var e=this.cells[this.buffer],t=this.cells[0===this.buffer?1:0],a=Math.ceil(this.cellWidth),n=Math.ceil(this.cellHeight),i=0;i<a;i++)for(var s=0;s<n;s++){var r=(n+s-1)%n,l=(n+s+1)%n,c=(a+i+1)%a,o=(a+i-1)%a,h=this.findNeighbors(c,r)+this.findNeighbors(o,r)+this.findNeighbors(c,l)+this.findNeighbors(o,l)+this.findNeighbors(i,l)+this.findNeighbors(i,r)+this.findNeighbors(c,s)+this.findNeighbors(o,s),u=Math.ceil(this.cellHeight)*i+s;e[u].alive?h<2||h>3?t[u].alive=!1:2!==h&&3!==h||(t[u].alive=!0):t[u].alive=3===h}this.buffer=0===this.buffer?1:0}}]),e}()),d=a(8),p=(a(19),a(9)),m=a.n(p),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(d.a)({},e.target.name,e.target.validity.valid?Number(e.target.value):a.props.generation))},a.calculate=function(){a.props.calculate(a.state.input),a.setState({input:""})},a.setSpeed=function(e){a.props.setSpeed(Number(e.target.value))},a.drawButtons=function(e,t,a){e.fillStyle=a,t.forEach(function(t){e.fillRect(t[0],t[1],10,10)})},a.drawGlider=function(e){var t=a.refs.glider.getContext("2d");a.drawButtons(t,[[10,0],[20,10],[20,20],[10,20],[0,20]],e)},a.drawSpaceship=function(e){var t=a.refs.spaceship.getContext("2d");a.drawButtons(t,[[10,0],[20,0],[30,0],[40,0],[40,10],[40,20],[30,30],[0,30],[0,10]],e)},a.drawTumbler=function(e){var t=a.refs.tumbler.getContext("2d");a.drawButtons(t,[[10,0],[20,0],[40,0],[50,0],[10,10],[20,10],[40,10],[50,10],[20,20],[40,20],[20,30],[40,30],[20,40],[40,40],[0,30],[60,30],[0,40],[60,40],[0,50],[60,50],[10,50],[50,50]],e)},a.handlePaste=function(e){"glider"!==e||a.state.glider?"spaceship"!==e||a.state.spaceship?"tumbler"!==e||a.state.tumbler?(a.drawGlider("black"),a.drawSpaceship("black"),a.drawTumbler("black"),a.setState({glider:!1,spaceship:!1,tumbler:!1}),a.props.setPaste("")):(a.drawGlider("black"),a.drawSpaceship("black"),a.drawTumbler("yellow"),a.setState({glider:!1,spaceship:!1,tumbler:!0}),a.props.setPaste(e)):(a.drawGlider("black"),a.drawSpaceship("yellow"),a.drawTumbler("black"),a.setState({glider:!1,spaceship:!0,tumbler:!1}),a.props.setPaste(e)):(a.drawGlider("yellow"),a.drawSpaceship("black"),a.drawTumbler("black"),a.setState({glider:!0,spaceship:!1,tumbler:!1}),a.props.setPaste(e))},a.state={input:"",glider:!1,spaceship:!1,tumbler:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.drawSpaceship(),this.drawGlider(),this.drawTumbler()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"canvas-options",onSubmit:function(e){return e.preventDefault()}},i.a.createElement("button",{onClick:this.props.clear},"Clear"),i.a.createElement("button",{onClick:this.props.randomize},"Randomize"),i.a.createElement("button",{onClick:this.props.start},this.props.continue?"Stop":"Start"),i.a.createElement("button",{onClick:this.props.next},"Next"),i.a.createElement("form",{className:"canvas-options-form"},i.a.createElement(m.a,{className:"canvas-options-input",type:"text",pattern:"[0-9]*",name:"input",onChange:this.handleInput,value:this.state.input,placeholder:String(this.props.generation)}),i.a.createElement("input",{className:"canvas-options-input-range",type:"range",min:"10",max:"1000",step:"10",defaultValue:"10",name:"speed",onChange:this.setSpeed}),i.a.createElement("input",{type:"submit",onClick:this.calculate,style:{width:"0px",height:"0px",opacity:"0"}})),i.a.createElement("canvas",{ref:"glider",onClick:function(){return e.handlePaste("glider")},width:30,height:30}),i.a.createElement("canvas",{ref:"spaceship",onClick:function(){return e.handlePaste("spaceship")},width:50,height:40}),i.a.createElement("canvas",{ref:"tumbler",onClick:function(){return e.handlePaste("tumbler")},width:70,height:60}))}}]),t}(i.a.Component),g=function(){return i.a.createElement("header",{className:"canvas-header"},i.a.createElement("div",{className:"canvas-header-links"},i.a.createElement("a",{className:"canvas-header-rules",href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life"},"Rules"),i.a.createElement("a",{className:"canvas-header-about",href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life"},"About")))},b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).toggleLife=function(e){if(!a.state.continueAnimation){var t=a.refs.canvas.getBoundingClientRect(),n=a.state.life.getCellSize(),i=Math.floor((e.clientX-t.left)/n),s=Math.floor((e.clientY-t.top)/n);a.setState({currentGeneration:0}),a.state.life.toggleCell(i,s),a.drawCanvas()}},a.pasteCells=function(e){var t=a.refs.canvas.getBoundingClientRect(),n=a.state.life.getCellSize(),i=Math.floor((e.clientX-t.left)/n),s=Math.floor((e.clientY-t.top)/n);a.state.life.pasteCells(i,s,a.state.paste),a.drawCanvas()},a.setPaste=function(e){a.setState({paste:e})},a.start=function(){a.state.continueAnimation?a.setState({continueAnimation:!1}):(a.setState({continueAnimation:!0}),requestAnimationFrame(function(e){a.onAnimFrame(e)}))},a.randomize=function(){a.setState({currentGeneration:0}),a.state.life.randomize(),a.drawCanvas()},a.clear=function(){a.setState({continueAnimation:!1,currentGeneration:0}),a.state.life.clearCells(),a.drawCanvas()},a.next=function(){a.setState({currentGeneration:a.state.currentGeneration+1}),a.state.life.step(),a.drawCanvas()},a.calculate=function(e){if(e<a.state.currentGeneration)alert("Cannot go backwards!");else{var t=e-a.state.currentGeneration;a.state.life.calculateGeneration(t),a.drawCanvas(),a.setState({currentGeneration:e})}},a.setSpeed=function(e){a.setState({speed:e})},a.state={currentGeneration:0,speed:0,life:null,continueAnimation:!1,prevTimestamp:null,paste:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("canvas"),a=document.getElementsByClassName("canvas-options"),n=document.getElementsByClassName("canvas-header");t.width=window.innerWidth,t.height=window.innerHeight-a[0].clientHeight-(n[0].clientHeight+3),t.addEventListener("mousedown",function(e){return e.preventDefault()}),this.setState({life:new f(t.width,t.height)}),requestAnimationFrame(function(t){e.onAnimFrame(t)})}},{key:"componentWillUnmount",value:function(){this.setState({continueAnimation:!1})}},{key:"onAnimFrame",value:function(e){var t=this;requestAnimationFrame(function(e){t.onAnimFrame(e)}),(e=Math.floor(e/(1001-this.state.speed)))!==this.state.prevTimestamp&&(this.state.continueAnimation&&(this.setState({currentGeneration:this.state.currentGeneration+1}),this.state.life.step()),this.setState({prevTimestamp:e}),this.drawCanvas())}},{key:"drawCanvas",value:function(){var e=this.refs.canvas,t=e.getContext("2d"),a=this.state.life.getCells(),n=this.state.life.getCellSize();t.lineWidth=1,t.fillStyle="#7e7e7e",t.fillRect(0,0,e.width,e.height),t.strokeStyle="#999999";for(var i=0;i<e.width;i+=n)t.beginPath(),t.moveTo(i+.5,0),t.lineTo(i+.5,e.height),t.stroke();for(var s=0;s<e.height;s+=n)t.beginPath(),t.moveTo(0,s+.5),t.lineTo(e.width,s+.5),t.stroke();t.fillStyle="yellow",a.forEach(function(e){e.alive&&t.fillRect(e.coords[0]*n+1,e.coords[1]*n+1,n-1,n-1)})}},{key:"render",value:function(){return i.a.createElement("div",{className:"canvas-container"},i.a.createElement(g,null),i.a.createElement("canvas",{onClick:this.state.paste?this.pasteCells:this.toggleLife,id:"canvas",ref:"canvas"}),i.a.createElement(v,{continue:this.state.continueAnimation,generation:this.state.currentGeneration,paste:this.state.paste,setPaste:this.setPaste,setSpeed:this.setSpeed,calculate:this.calculate,randomize:this.randomize,start:this.start,next:this.next,clear:this.clear}))}}]),t}(i.a.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(b,null))}}]),t}(n.Component);r.a.render(i.a.createElement(w,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.aa9a36ae.chunk.js.map