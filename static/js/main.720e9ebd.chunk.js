(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(24)},15:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),s=a(7),l=a.n(s),r=(a(15),a(1)),c=a(2),o=a(4),h=a(3),u=a(5),f=(a(17),function(){function e(t,a){Object(r.a)(this,e),this.width=t,this.height=a,this.cellSize=10,this.cells=[[],[]],this.cellWidth=this.width/this.cellSize,this.cellHeight=this.height/this.cellSize;for(var i=0;i<this.cellWidth;i++)for(var n=0;n<this.cellHeight;n++)this.cells[0].push({coords:[i,n],alive:!1}),this.cells[1].push({coords:[i,n],alive:!1});this.buffer=0}return Object(c.a)(e,[{key:"getCells",value:function(){return this.cells[this.buffer]}},{key:"getCellSize",value:function(){return this.cellSize}},{key:"pasteCells",value:function(e,t,a){for(var i=Math.ceil(this.cellWidth),n=Math.ceil(this.cellHeight),s=(n+t-1)%n,l=(n+t+1)%n,r=(i+e+1)%i,c=(i+e-1)%i,o={glider:[[e,s],[e,l],[r,t],[r,l],[c,l]],spaceship:[[c-1,l],[c-1,s],[r,l],[r+1,t],[r+1,s],[r+1,s-1],[r,s-1],[e,s-1],[c,s-1]],tumbler:[[r,t],[r,s],[r,s-1],[r,s-2],[r,s-3],[r+1,s-2],[r+1,s-3],[r+1,l],[r+2,t],[r+2,l],[r+2,s],[c,t],[c,s],[c,s-1],[c,s-2],[c,s-3],[c-1,s-2],[c-1,s-3],[c-1,l],[c-2,t],[c-2,l],[c-2,s]]},h=0;h<o[a].length;h++){var u=Math.ceil(this.cellHeight)*o[a][h][0]+o[a][h][1],f=this.cells[this.buffer][u];f&&(f.alive=!0)}}},{key:"toggleCell",value:function(e,t){var a=Math.ceil(this.cellHeight)*e+t,i=this.cells[this.buffer][a];i&&(i.alive=!i.alive)}},{key:"clearCells",value:function(){this.cells[this.buffer].forEach(function(e){e.alive&&(e.alive=!e.alive)})}},{key:"randomize",value:function(){this.cells[this.buffer].forEach(function(e){Math.random()>=.5&&(e.alive=!e.alive)})}},{key:"calculateGeneration",value:function(e){for(var t=0;t<e;t++)this.step()}},{key:"findNeighbors",value:function(e,t){var a=Math.ceil(this.cellHeight)*e+t,i=this.cells[this.buffer][a];return i&&i.alive?1:0}},{key:"step",value:function(){for(var e=this.cells[this.buffer],t=this.cells[0===this.buffer?1:0],a=Math.ceil(this.cellWidth),i=Math.ceil(this.cellHeight),n=0;n<a;n++)for(var s=0;s<i;s++){var l=(i+s-1)%i,r=(i+s+1)%i,c=(a+n+1)%a,o=(a+n-1)%a,h=this.findNeighbors(c,l)+this.findNeighbors(o,l)+this.findNeighbors(c,r)+this.findNeighbors(o,r)+this.findNeighbors(n,r)+this.findNeighbors(n,l)+this.findNeighbors(c,s)+this.findNeighbors(o,s),u=Math.ceil(this.cellHeight)*n+s;e[u].alive?h<2||h>3?t[u].alive=!1:2!==h&&3!==h||(t[u].alive=!0):t[u].alive=3===h}this.buffer=0===this.buffer?1:0}}]),e}()),d=a(8),p=(a(19),a(9)),m=a.n(p),v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(d.a)({},e.target.name,e.target.validity.valid?Number(e.target.value):a.props.generation))},a.calculate=function(){a.props.calculate(a.state.input),a.setState({input:""})},a.setSpeed=function(e){a.props.setSpeed(Number(e.target.value))},a.drawButtons=function(e,t,a){e.fillStyle=a,t.forEach(function(t){e.fillRect(t[0],t[1],10,10)})},a.drawGlider=function(e){var t=a.refs.glider.getContext("2d");a.drawButtons(t,[[10,0],[20,10],[20,20],[10,20],[0,20]],e)},a.drawSpaceship=function(e){var t=a.refs.spaceship.getContext("2d");a.drawButtons(t,[[10,0],[20,0],[30,0],[40,0],[40,10],[40,20],[30,30],[0,30],[0,10]],e)},a.drawTumbler=function(e){var t=a.refs.tumbler.getContext("2d");a.drawButtons(t,[[10,0],[20,0],[40,0],[50,0],[10,10],[20,10],[40,10],[50,10],[20,20],[40,20],[20,30],[40,30],[20,40],[40,40],[0,30],[60,30],[0,40],[60,40],[0,50],[60,50],[10,50],[50,50]],e)},a.handlePaste=function(e){"glider"!==e||a.state.glider?"spaceship"!==e||a.state.spaceship?"tumbler"!==e||a.state.tumbler?(a.drawGlider("black"),a.drawSpaceship("black"),a.drawTumbler("black"),a.setState({glider:!1,spaceship:!1,tumbler:!1}),a.props.setPaste("")):(a.drawGlider("black"),a.drawSpaceship("black"),a.drawTumbler("yellow"),a.setState({glider:!1,spaceship:!1,tumbler:!0}),a.props.setPaste(e)):(a.drawGlider("black"),a.drawSpaceship("yellow"),a.drawTumbler("black"),a.setState({glider:!1,spaceship:!0,tumbler:!1}),a.props.setPaste(e)):(a.drawGlider("yellow"),a.drawSpaceship("black"),a.drawTumbler("black"),a.setState({glider:!0,spaceship:!1,tumbler:!1}),a.props.setPaste(e))},a.state={input:"",glider:!1,spaceship:!1,tumbler:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.drawSpaceship(),this.drawGlider(),this.drawTumbler()}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"canvas-options",onSubmit:function(e){return e.preventDefault()}},n.a.createElement("i",{onClick:this.props.clear,className:"fas fa-trash-alt"}),n.a.createElement("i",{onClick:this.props.randomize,className:"fas fa-question"}),n.a.createElement("i",{onClick:this.props.start,className:this.props.continue?"fas fa-stop":"fas fa-play"}),n.a.createElement("i",{onClick:this.props.next,className:"fas fa-arrow-right"}),n.a.createElement("form",{className:"canvas-options-form"},n.a.createElement(m.a,{className:"canvas-options-input",type:"text",pattern:"[0-9]*",name:"input",onChange:this.handleInput,value:this.state.input,placeholder:String(this.props.generation)}),n.a.createElement("input",{className:"canvas-options-input-range",type:"range",min:"10",max:"1000",step:"10",defaultValue:"10",onChange:this.setSpeed}),n.a.createElement("input",{type:"submit",onClick:this.calculate,style:{width:"0px",height:"0px",opacity:"0"}})),n.a.createElement("canvas",{ref:"glider",onClick:function(){return e.handlePaste("glider")},width:30,height:30}),n.a.createElement("canvas",{ref:"spaceship",onClick:function(){return e.handlePaste("spaceship")},width:50,height:40}),n.a.createElement("canvas",{ref:"tumbler",onClick:function(){return e.handlePaste("tumbler")},width:70,height:60}))}}]),t}(n.a.Component),g=function(){return n.a.createElement("header",{className:"canvas-header"},n.a.createElement("div",{className:"canvas-header-links"},n.a.createElement("a",{className:"canvas-header-rules",href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life"},"Rules"),n.a.createElement("a",{className:"canvas-header-about",href:"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life"},"About")))},b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(h.a)(t).call(this,e))).toggleLife=function(e){if(!a.state.continueAnimation){var t=a.refs.canvas.getBoundingClientRect(),i=a.state.life.getCellSize(),n=Math.floor((e.clientX-t.left)/i),s=Math.floor((e.clientY-t.top)/i);a.setState({currentGeneration:0}),a.state.life.toggleCell(n,s),a.drawCanvas()}},a.pasteCells=function(e){var t=a.refs.canvas.getBoundingClientRect(),i=a.state.life.getCellSize(),n=Math.floor((e.clientX-t.left)/i),s=Math.floor((e.clientY-t.top)/i);a.state.life.pasteCells(n,s,a.state.paste),a.drawCanvas()},a.setPaste=function(e){a.setState({paste:e})},a.start=function(){a.state.continueAnimation?a.setState({continueAnimation:!1}):(a.setState({continueAnimation:!0}),requestAnimationFrame(function(e){a.onAnimFrame(e)}))},a.randomize=function(){a.setState({currentGeneration:0}),a.state.life.randomize(),a.drawCanvas()},a.clear=function(){a.setState({continueAnimation:!1,currentGeneration:0}),a.state.life.clearCells(),a.drawCanvas()},a.next=function(){a.setState({currentGeneration:a.state.currentGeneration+1}),a.state.life.step(),a.drawCanvas()},a.calculate=function(e){if(e<a.state.currentGeneration)alert("Cannot go backwards!");else{var t=e-a.state.currentGeneration;a.state.life.calculateGeneration(t),a.drawCanvas(),a.setState({currentGeneration:e})}},a.setSpeed=function(e){a.setState({speed:e})},a.state={currentGeneration:0,speed:0,life:null,continueAnimation:!1,prevTimestamp:null,paste:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("canvas"),a=document.getElementsByClassName("canvas-options"),i=document.getElementsByClassName("canvas-header");t.width=window.innerWidth,t.height=window.innerHeight-a[0].clientHeight-(i[0].clientHeight+3),t.addEventListener("mousedown",function(e){return e.preventDefault()}),this.setState({life:new f(t.width,t.height)}),requestAnimationFrame(function(t){e.onAnimFrame(t)})}},{key:"componentWillUnmount",value:function(){this.setState({continueAnimation:!1})}},{key:"onAnimFrame",value:function(e){var t=this;requestAnimationFrame(function(e){t.onAnimFrame(e)}),(e=Math.floor(e/(1001-this.state.speed)))!==this.state.prevTimestamp&&(this.state.continueAnimation&&(this.setState({currentGeneration:this.state.currentGeneration+1}),this.state.life.step()),this.setState({prevTimestamp:e}),this.drawCanvas())}},{key:"drawCanvas",value:function(){var e=this.refs.canvas,t=e.getContext("2d"),a=this.state.life.getCells(),i=this.state.life.getCellSize();t.lineWidth=1,t.fillStyle="#7e7e7e",t.fillRect(0,0,e.width,e.height),t.strokeStyle="#999999";for(var n=0;n<e.width;n+=i)t.beginPath(),t.moveTo(n+.5,0),t.lineTo(n+.5,e.height),t.stroke();for(var s=0;s<e.height;s+=i)t.beginPath(),t.moveTo(0,s+.5),t.lineTo(e.width,s+.5),t.stroke();t.fillStyle="yellow",a.forEach(function(e){e.alive&&t.fillRect(e.coords[0]*i+1,e.coords[1]*i+1,i-1,i-1)})}},{key:"render",value:function(){return n.a.createElement("div",{className:"canvas-container"},n.a.createElement(g,null),n.a.createElement("canvas",{onClick:this.state.paste?this.pasteCells:this.toggleLife,id:"canvas",ref:"canvas"}),n.a.createElement(v,{continue:this.state.continueAnimation,generation:this.state.currentGeneration,paste:this.state.paste,setPaste:this.setPaste,setSpeed:this.setSpeed,calculate:this.calculate,randomize:this.randomize,start:this.start,next:this.next,clear:this.clear}))}}]),t}(n.a.Component),w=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(b,null))}}]),t}(i.Component);l.a.render(n.a.createElement(w,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.720e9ebd.chunk.js.map